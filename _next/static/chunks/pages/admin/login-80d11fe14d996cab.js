(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2300],{86880:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/login",function(){return t(51445)}])},84846:function(n,e,t){"use strict";t.d(e,{Z:function(){return P}});var r=t(34051),o=t.n(r),i=t(85893),a=t(67294),c=t(11163),s=t(63835),u=t(47426),l=t(11057),p=t(87357),g=t(61903),d=t(20719),f=t(15861),m=t(94229),v=t(87109),x=t(93946),h=t(22961),j=t(72450),y={container:{width:"100%",display:"grid",minHeight:"50vh",placeItems:"center"},loginContainer:{width:{xs:"100%",sm:"400px"},display:"flex",flexDirection:"column",textAlign:"center",padding:function(n){return n.spacing(1)},"& .MuiTextField-root, button":{marginTop:function(n){return n.spacing(2)}},"& h5":{marginBottom:function(n){return n.spacing(2)}},"& svg":{fontSize:"45px",margin:"auto",marginBottom:"8px"}},eyeToggle:{transition:"background 0.2s, color 0.2s","& svg":{fontSize:30,marginBottom:"15px"},"&:hover":{color:"#1976d2"}},btnContainer:{display:"flex",gap:3,"& button":{flexGrow:1}}};var w=function(n){var e=n.loading,t=n.hasUser,r=n.state,o=n.loginTitle,c=n.onInputChange,s=n.onInputClick,u=n.onBtnClick,w=(0,a.useState)(!1),b=w[0],C=w[1];return(0,i.jsxs)("div",{children:[e&&(0,i.jsx)(d.Z,{}),!e&&!t&&(0,i.jsx)(p.Z,{sx:y.container,id:"bacap-login",children:(0,i.jsxs)(p.Z,{component:"form",noValidate:!0,autoComplete:"off",sx:y.loginContainer,children:["Superadmin"===o&&(0,i.jsx)(m.Z,{color:"primary",size:"large"}),(0,i.jsxs)(f.Z,{variant:"h5",children:["ACAP ",(0,i.jsx)("br",{}),o||"Admin"," Login"]}),(0,i.jsx)(g.Z,{error:""!==r.error,id:"email",label:"Enter email",variant:"outlined",value:r.email,onChange:c,onClick:s}),(0,i.jsx)(g.Z,{error:""!==r.error,id:"password",label:"Enter password",type:b?"text":"password",variant:"outlined",value:r.password,onChange:c,onClick:s,helperText:r.error,InputProps:{endAdornment:r.password.length>0&&(0,i.jsx)(v.Z,{position:"end",children:(0,i.jsx)(x.Z,{"aria-label":"toggle password visibility",onClick:function(){return C((function(n){return!n}))},onMouseDown:function(n){return n.preventDefault()},edge:"end",sx:y.eyeToggle,children:b?(0,i.jsx)(j.Z,{fontSize:"medium"}):(0,i.jsx)(h.Z,{fontSize:"medium"})})})}}),(0,i.jsx)(l.Z,{variant:"contained",size:"large",onClick:u,children:"Log in"})]})})]})};function b(n,e,t,r,o,i,a){try{var c=n[i](a),s=c.value}catch(u){return void t(u)}c.done?e(s):Promise.resolve(s).then(r,o)}function C(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(n){b(i,r,o,a,c,"next",n)}function c(n){b(i,r,o,a,c,"throw",n)}a(void 0)}))}}function Z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){Z(n,e,t[e])}))}return n}var O={email:"",password:"",error:""};var P=function(n){var e=n.accLevel,t=void 0===e?2:e,r=n.loginTitle,l=void 0===r?"":r,p=(0,a.useState)(O),g=p[0],d=p[1],f=(0,s.aC)(),m=(0,c.useRouter)();(0,a.useEffect)((function(){if(f.user&&!f.loading&&""===f.error){var n=t===u.DW.ADMIN?"/admin":"/superadmin";f.user.accountlevel===t?m.push(n):(f.logOut(),d((function(n){return k({},n,{error:"Unauthorized account level."})})))}}),[f,t,m]),(0,a.useEffect)((function(){""!==f.error&&d((function(n){return k({},n,{error:f.error})}))}),[f.error]);var v=function(){var n=C(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.signIn({email:g.email,password:g.password});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),d((function(e){return k({},e,{error:(0,s.Z)(n.t0.message)})}));case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}(),x=function(){var n=C(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f.logOut();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,i.jsx)(w,{loading:f.loading,hasUser:f.user,state:g,loginTitle:l,onInputChange:function(n){var e=n.target,t=e.id,r=e.value;d((function(n){return k({},n,Z({},t,r))})),""!==g.error&&d(k({},g,{error:""}))},onInputClick:function(n){d((function(e){var t;return k({},e,(Z(t={},n.target.id,""),Z(t,"error",""),t))}))},onBtnClick:v,onBtnLogoutClick:x})}},43370:function(n,e,t){"use strict";var r=t(85893),o=t(9008),i=t(47426);e.Z=function(n){var e=n.title,t=n.ogDescription,a=n.ogImageURL,c=n.ogImgAlt,s=void 0===c?"Picture":c,u=n.ogSiteName,l=void 0===u?"ACAP-".concat(i.Gt.toUpperCase()):u,p=n.ogURL,g=n.canonicalURL,d=void 0===g?"http://localhost":g;return(0,r.jsxs)(o.default,{children:[(0,r.jsx)("meta",{name:"description",content:t}),(0,r.jsx)("meta",{rel:"canonical",href:d}),(0,r.jsx)("meta",{name:"og:description",content:t}),(0,r.jsx)("meta",{property:"og:title",content:e}),(0,r.jsx)("meta",{property:"og:site_name",content:l}),(0,r.jsx)("meta",{property:"og:image",content:a}),(0,r.jsx)("meta",{property:"og:image:width",content:"600"}),(0,r.jsx)("meta",{property:"og:image:height",content:"315"}),(0,r.jsx)("meta",{property:"og:image:alt",content:s}),(0,r.jsx)("meta",{property:"og:url",content:p}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:e}),(0,r.jsx)("meta",{name:"twitter:image",content:a}),(0,r.jsx)("title",{children:e})]})}},20719:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(85893),o=t(87357),i=t(98456),a=t(15861),c={container:{width:"100%",backgroundColor:"#fff",minHeight:"50vh",display:"grid",placeItems:"center"},loading:{display:"flex",justifyContent:"center",alignItems:"center"}};function s(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){s(n,e,t[e])}))}return n}var l=function(n){var e=n.sx;return(0,r.jsx)(o.Z,{sx:u({},c.container,e&&u({},e)),children:(0,r.jsxs)(o.Z,{sx:c.loading,children:[(0,r.jsx)(a.Z,{variant:"subtitle1",children:"Loading..."}),(0,r.jsx)(i.Z,{size:"32px"})]})})}},51445:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return c}});var r=t(85893),o=t(47426),i=t(84846),a=t(43370);var c=!0;e.default=function(n){var e=n.media;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{title:"Agro-Climatic Advisory Portal - ".concat(o.Gt," (ACAP-").concat(o.Gt.toUpperCase(),") Admin Login"),ogDescription:e.description,ogImageURL:e.url,ogURL:e.path,canonicalURL:e.path}),(0,r.jsx)(i.Z,{loginTitle:"Admin",accLevel:o.DW.ADMIN})]})}}},function(n){n.O(0,[5778,3593,972,9964,1903,2637,9774,2888,179],(function(){return e=86880,n(n.s=e);var e}));var e=n.O();_N_E=e}]);