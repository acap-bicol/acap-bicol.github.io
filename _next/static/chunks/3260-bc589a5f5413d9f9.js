"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3260],{11829:function(t,e,n){var r=n(85893),o=n(55113);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.Z=function(t){return(0,r.jsx)(o.Z,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){a(t,e,n[e])}))}return t}({},t,{elevation:15}))}},37634:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(85893),o=n(25675),a=n(87357),i=n(15861),c=n(26660),u={container:{textAlign:"center",minHeight:"200px",width:"100%",border:"4px solid rgba(0, 0, 0, 0.11)",borderRadius:function(t){return t.spacing(2)},color:function(t){return t.palette.text.secondary},borderStyle:"dashed",padding:function(t){return t.spacing(2)},marginTop:function(t){return t.spacing(4)}}};var s=function(t){var e=t.message,n=void 0===e?"Failed to load data":e,s=t.style,l=void 0===s?{}:s;return(0,r.jsxs)(a.Z,{sx:u.container,style:l,children:[(0,r.jsx)(o.default,{unoptimized:!0,src:(0,c.assetPrefixer)("images/icons/empty-state-light.svg"),height:120,width:120,loader:c.imageLoader,alt:"Empty data"}),(0,r.jsx)(i.Z,{variant:"subtitle1",children:n})]})}},24478:function(t,e,n){var r=n(85893),o=n(67294),a=n(45697),i=n.n(a),c=n(87918),u=n(15861),s=n(37634);function l(t){var e=t.impactOutlookOnly,n=t.recommendations,a=void 0===n?[]:n,i=t.title,l=void 0===i?"":i,f=t.titleFontSize,p=void 0===f?"h5":f,d=t.recommendationsEng,v=void 0===d?"management_recommendations_english":d,m=t.recommendationsTag,g=void 0===m?"management_recommendations_tagalog":m,h=t.impactOutlookEng,y=void 0===h?"impact_outlook_english":h,b=t.impactOutlookTag,_=void 0===b?"impact_outlook_tagalog":b,x=t.isTagalog,S=void 0===x?null:x,w=t.isShowTitle,R=void 0===w||w,k=t.isShowImpactOutlookSubtitle,O=void 0===k||k,E=(0,o.useState)(!0),C=E[0],j=E[1];return(0,o.useEffect)((function(){null!==S&&j(!S)}),[S]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",marginBottom:"20px"},children:[R&&(0,r.jsx)("div",{style:{flexGrow:1},children:(0,r.jsxs)(u.Z,{variant:p,children:[l," Recommendations"]})}),null===S&&(0,r.jsx)(c.Z,{variant:"outlined",size:"small",label:C?"Tagalog":"English",onClick:function(){return j((function(t){return!t}))},className:"toggleButton"})]}),a.length>0?(0,r.jsxs)("div",{children:[(0,r.jsx)(r.Fragment,{children:e&&(0,r.jsxs)("div",{children:[O&&(0,r.jsx)(u.Z,{variant:"subtitle1",children:"Impact Outlooks"}),a.map((function(t,e){return(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:C?t[y]||"No Impact Outlook":t[_]||"Walang makitang impak awtluk"}},e)})),(0,r.jsx)("br",{})]})}),O&&(0,r.jsxs)(r.Fragment,{children:[R&&(0,r.jsx)(u.Z,{variant:"subtitle1",children:"Recommendations"}),a.map((function(t,e){return(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:C?t[v]||"No Recommendations":t[g]||"Walang makitang rekomendasyon"}},e)}))]})]}):(0,r.jsx)(s.Z,{message:"We cannot find recommendations for your selected options."})]})}l.propTypes={recommendations:i().array,title:i().string,subtitle:i().string,titleFontSize:i().string,recommendationsEng:i().string,recommendationsTag:i().string,isTagalog:i().bool,isShowTitle:i().bool},e.Z=l},38885:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(34051),o=n.n(r),a=n(67294),i=n(32848);function c(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(){var t=(0,a.useState)([]),e=t[0],n=t[1],r=(0,a.useState)(!1),u=r[0],s=r[1],l=(0,a.useState)(""),f=l[0],p=l[1];return(0,a.useEffect)((function(){var t=function(){var t,e=(t=o().mark((function t(){var e,r,a,c,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s(!0),t.next=4,(0,i.TQ)();case 4:e=t.sent,n(null!==(r=null===e||void 0===e?void 0:e.list)&&void 0!==r?r:[]),s(!1),p(""),t.next=19;break;case 11:t.prev=11,t.t0=t.catch(0),u=null!==(c=null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a?void 0:a.data)&&void 0!==c?c:t.t0.message,p(u),s(!1),n([]);case 19:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();t()}),[]),{cropList:e,loading:u,error:f}}},59390:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(34051),o=n.n(r),a=n(67294),i=n(32848);function c(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function u(t,e){var n=(0,a.useState)([]),r=n[0],u=n[1],s=(0,a.useState)([]),l=s[0],f=s[1],p=(0,a.useState)(!1),d=p[0],v=p[1],m=(0,a.useState)(""),g=m[0],h=m[1];return(0,a.useEffect)((function(){var n=function(){var n,r=(n=o().mark((function n(){var r,a,c,s,l,p,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v(!0),n.next=4,(0,i.ad)(t,e);case 4:return r=n.sent,u(null!==(a=null===r||void 0===r?void 0:r.data)&&void 0!==a?a:[]),n.next=9,(0,i.Fj)(e);case 9:c=n.sent,f(null!==(s=null===c||void 0===c?void 0:c.data)&&void 0!==s?s:[]),v(!1),h(""),n.next=24;break;case 16:n.prev=16,n.t0=n.catch(0),d=null!==(p=null===n.t0||void 0===n.t0||null===(l=n.t0.response)||void 0===l?void 0:l.data)&&void 0!==p?p:n.t0.message,h(d),v(!1),u([]);case 24:case"end":return n.stop()}}),n,null,[[0,16]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();t&&e&&(h(""),u([]),f([]),n())}),[t,e]),{cropcalendar:r,cropStages:l,loading:d,error:g}}},23766:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(67294);function o(t,e){var n=(0,r.useState)([]),o=n[0],a=n[1];return(0,r.useEffect)((function(){var n,r;a(t&&e&&null!==(r=null===(n=e.find((function(e){return e.label===t})))||void 0===n?void 0:n.municipalities)&&void 0!==r?r:[])}),[t,e]),o}},22856:function(t,e,n){n.d(e,{Z:function(){return f}});var r=n(34051),o=n.n(r),a=n(67294),i=n(9473),c=n(72216),u=n(17892);function s(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){s(a,r,o,i,c,"next",t)}function c(t){s(a,r,o,i,c,"throw",t)}i(void 0)}))}}function f(t,e,n,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f=arguments.length>5&&void 0!==arguments[5]&&arguments[5],p=(0,a.useState)([]),d=p[0],v=p[1],m=(0,a.useState)([]),g=m[0],h=m[1],y=(0,a.useState)(!1),b=y[0],_=y[1],x=(0,a.useState)(""),S=x[0],w=x[1],R=(0,i.I0)();return(0,a.useEffect)((function(){var a=function(){var a=l(o().mark((function a(){var i,l,p,d,m,g;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,i=[],_(!1),w(""),l=e,"object"===typeof e&&(l=e.map((function(t){return t.code}))),f){o.next=12;break}return o.next=9,(0,u.$K)({climateRisk:t,_cropStage:l,crop:n,type:r,multipleStages:s});case 9:i=o.sent,o.next=15;break;case 12:return o.next=14,(0,u.fI)({_cropStage:l,crop:n,type:r,multipleStages:s});case 14:i=o.sent;case 15:p=i.map((function(t){return t.farming_activity})).filter((function(t,e,n){return n.indexOf(t)===e})).reduce((function(t,e,n){return t.push({id:n,label:e}),t}),[]),_(!1),h(p),v(i||[]),R((0,c.lO)(i||[])),o.next=29;break;case 22:o.prev=22,o.t0=o.catch(0),g=null!==(m=null===o.t0||void 0===o.t0||null===(d=o.t0.response)||void 0===d?void 0:d.data)&&void 0!==m?m:o.t0.message,w(g),_(!1);case 29:case"end":return o.stop()}}),a,null,[[0,22]])})));return function(){return a.apply(this,arguments)}}();e&&n&&(null===e||void 0===e?void 0:e.length)>0?a():(v([]),h([]))}),[t,e,n,r,s,f,R]),{recommendations:d,farmoperations:g,loading:b,error:S}}},63289:function(t,e,n){n.d(e,{o:function(){return b},v:function(){return _}});var r=n(34051),o=n.n(r),a=n(94763),i=n(16013);function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){s(a,r,o,i,c,"next",t)}function c(t){s(a,r,o,i,c,"throw",t)}i(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function v(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?u(t):e}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=function(t){return t&&"undefined"!==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var b={CROP_REC_LIST_RECS_LITE:"n_list_crop_recommendations",CROP_REC_LIST_RECS_FORMATTED:"n_list_crop_recommendations_",CROP_REC_LIST:"n_crop_recommendations_",CROP_REC_SMS_LIST:"n_crop_recommendations_"},_=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(n,t);var e=y(n);function n(){var t;f(this,n);var r=u(t=e.apply(this,arguments));p(u(t),"getFormattedRecommendationsFromStages",function(){var t=l(o().mark((function t(e){var n,a,c,u,s,l,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cropstages,a=e.forecast,c=e.type,void 0!==n&&void 0!==a){t.next=3;break}return t.abrupt("return");case 3:return u="".concat(b.CROP_REC_LIST_RECS_FORMATTED).concat(c),s=r.collection(r.db,u),l=c===i.q.SEASONAL?r.query(s,r.where("crop_stage","in",n),r.where("forecast","==",a)):r.query(s,r.where("crop_stage","in",n)),t.next=9,r.getCollectionData(u,"",l);case 9:return f=t.sent,t.abrupt("return",f);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var a=u(t);p(u(t),"getFormattedRecommendations",function(){var t=l(o().mark((function t(e){var n,r,c,u,s,l,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.cropstage,r=e.forecast,c=e.type,void 0!==n&&void 0!==r){t.next=3;break}return t.abrupt("return");case 3:return u="".concat(b.CROP_REC_LIST_RECS_FORMATTED).concat(c),s=a.collection(a.db,u),l=c===i.q.SEASONAL?a.query(s,a.where("crop_stage","==",n),a.where("forecast","==",r)):a.query(s,a.where("crop_stage","==",n)),t.next=9,a.getCollectionData(u,"",l);case 9:return f=t.sent,t.abrupt("return",f);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var c=u(t);p(u(t),"getCropRecommendationsLite",function(){var t=l(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.type,t.next=3,c.getDocumentData(b.CROP_REC_LIST_RECS_LITE,n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var s=u(t);p(u(t),"getRecommendations",function(){var t=l(o().mark((function t(e){var n,r,a,i,c,u,l,f,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.climateRisk,r=e._cropStage,a=e.crop,i=e.type,c=e.multipleStages,n&&a){t.next=3;break}return t.abrupt("return");case 3:if(!c){t.next=8;break}if(0!==r.length){t.next=6;break}return t.abrupt("return");case 6:t.next=10;break;case 8:if(r){t.next=10;break}return t.abrupt("return");case 10:return u="".concat(b.CROP_REC_LIST).concat(i),l=s.collection(s.db,u),f=c?s.query(l,s.where("climate_risk","==",n),s.where("crop_stage","in",r),s.where("crop","==",a)):s.query(l,s.where("climate_risk","==",n),s.where("crop_stage","==",r),s.where("crop","==",a)),t.next=16,s.getCollectionData(u,"",f);case 16:return p=t.sent,t.abrupt("return",p);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var d=u(t);p(u(t),"getRecommendationsFlexible",function(){var t=l(o().mark((function t(e){var n,r,a,i,c,u,s,l,f,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.climateRisk,r=e._cropStage,a=e.crop,i=e.type,c=e.multipleStages,u=void 0!==c&&c,s="".concat(b.CROP_REC_LIST).concat(i),l=d.collection(d.db,s),a){t.next=5;break}return t.abrupt("return");case 5:return f=[d.where("crop","==",a)],n&&f.push(d.where("climate_risk","==",n)),r&&(u?f.push(d.where("crop_stage","in",r)):f.push(d.where("crop_stage","==",r))),p=d.query.apply(d,[l].concat(g(f))),t.next=11,d.getCollectionData(s,"",p);case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var v=u(t);return p(u(t),"getRecommendationsSMS",function(){var t=l(o().mark((function t(e){var n,r,a,i,c,u,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.crop,r=e.climateRisk,a=e.type,n&&r&&a){t.next=3;break}return t.abrupt("return");case 3:return i="".concat(b.CROP_REC_SMS_LIST).concat(a),c=v.collection(v.db,i),u=v.query(c,v.where("crop","==",n),v.where("climate_risk","==",r)),t.next=8,v.getCollectionData(i,"",u);case 8:return s=t.sent,t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t}return n}(a.Z)},17892:function(t,e,n){n.d(e,{$K:function(){return o},fI:function(){return a},iR:function(){return i}});var r=new(n(63289).v),o=(r.getFormattedRecommendations.bind(r),r.getFormattedRecommendationsFromStages.bind(r),r.getCropRecommendationsLite.bind(r),r.getRecommendations.bind(r)),a=r.getRecommendationsFlexible.bind(r),i=r.getRecommendationsSMS.bind(r)}}]);